name: pull request comment
on:
  issue_comment:                                     
    types: [created, edited, deleted]
jobs:
 aeolus-bot:
   runs-on: ubuntu-latest
   if: contains(github.event.comment.body, '@aeolus')  
   steps:
    - name: parse
      run: |
      body=$(echo '${{ github.event.comment.body }}')
      if [[ $(echo $body | awk '{print $1}') == "@aeolus" ]]; then
          if [[ $(echo $body | awk '{print $2}') == 'please' ]]; then
              command=$(echo $body | awk '{for (i=3; i<NF; i++) printf $i " "; print $NF}')
              echo "Thank you for being polite.  I can certainly \"$command\"" 
          else
              echo "Please use the magic word."
          fi
      fi
